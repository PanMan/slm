!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Ctx=e():t.Ctx=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t){function e(t){this.htmlSafe=!0,this._1=t}function n(t){return!t||t.htmlSafe?t:new e(t)}function i(t){if("string"!=typeof t){if(!t)return"";if(t.htmlSafe)return t.toString();t=t.toString()}return c.test(t)&&(-1!==t.indexOf("&")&&(t=t.replace(h,"&amp;")),-1!==t.indexOf("<")&&(t=t.replace(u,"&lt;")),-1!==t.indexOf(">")&&(t=t.replace(o,"&gt;")),-1!==t.indexOf('"')&&(t=t.replace(l,"&quot;"))),t}function s(t){for(var e=[],n=0,i=t.length;i>n;n++){var s=t[n];null!==s&&s.length&&e.push(s)}return e}function r(t){return t.reduce(function(t,e){return null===e?t:t.concat(e.constructor===Array?r(e):e.toString())},[])}function a(){this.reset(),this.template=this.basePath=null}var h=/&/g,c=/[&<>"]/,o=/>/g,u=/</g,l=/"/g;e.prototype.toString=function(){return this._1},a.cache={};var f=a.prototype;f.rebind=function(){this._2=this.content.bind(this),this._3=this.extend.bind(this),this._4=this.partial.bind(this)},f.reset=function(){this._5={},this.res="",this.stack=[],this.m=null},f.pop=function(t){for(var e=this.stack.length,n=this.filename;t<e--;)this.filename=this.stack.pop(),this._6(this.filename).call(this.m,this);return this.filename=n,this.res},f.extend=function(t){this.stack.push(this._7(t))},f.partial=function(t,e,i){i&&(this.res=i.call(this.m,this)),t=this._7(t);var s=this._6(t),r=this.m,a=this.filename;this.filename=t;var h=n(s.call(this.m=e,this));return this.m=r,this.filename=a,h},f.content=function(){switch(arguments.length){case 0:return n(this.res);case 1:return n(this._5[arguments[0]]||"");case 2:var t=arguments[0],e=arguments[1];return t?(this._5[t]=e.call(this.m),""):e.call(this.m);case 3:var t=arguments[0],i=arguments[1],e=arguments[2],s=this._5[t]||"";switch(i){case"default":return n(s||e.call(this.m));case"append":return this._5[t]=s+e.call(this.m),"";case"prepend":return this._5[t]=e.call(this.m)+s,""}}},t.exports={Ctx:a,escape:i,flatten:r,rejectEmpty:s,safe:n}}])});