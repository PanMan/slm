!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Ctx=e():t.Ctx=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t){function e(t){this.htmlSafe=!0,this._1=t}function i(t){return!t||t.htmlSafe?t:new e(t)}function n(t){if("string"!=typeof t){if(!t)return"";if(t.htmlSafe)return t.toString();t=t.toString()}return o.test(t)&&(-1!==t.indexOf("&")&&(t=t.replace(a,"&amp;")),-1!==t.indexOf("<")&&(t=t.replace(c,"&lt;")),-1!==t.indexOf(">")&&(t=t.replace(u,"&gt;")),-1!==t.indexOf('"')&&(t=t.replace(f,"&quot;"))),t}function s(t){for(var e=[],i=0,n=t.length;n>i;i++){var s=t[i];null!==s&&s.length&&e.push(s)}return e}function r(t){return t.reduce(function(t,e){return null===e?t:t.concat(e.constructor===Array?r(e):e.toString())},[])}function h(){this.reset(),this.template=this.basePath=null}var a=/&/g,o=/[&<>"]/,u=/>/g,c=/</g,f=/"/g;e.prototype.toString=function(){return this._1},h.cache={};var l=h.prototype;l.rebind=function(){this._2=this.content.bind(this),this._3=this.extend.bind(this),this._4=this.partial.bind(this),this._5=this.defaultContent.bind(this),this._6=this.append.bind(this),this._7=this.prepend.bind(this)},l.reset=function(){this._8={},this.res="",this.stack=[],this.m=null},l.pop=function(t){for(var e=this.stack.length,i=this.filename;t<e--;)this.filename=this.stack.pop(),this._9(this.filename).call(this.m,this);return this.filename=i,this.res},l.extend=function(t){this.stack.push(this._a(t))},l.partial=function(t,e,n){n&&(this.res=n.call(this.m,this)),t=this._a(t);var s=this._9(t),r=this.m,h=this.filename;this.filename=t;var a=i(s.call(this.m=e,this));return this.m=r,this.filename=h,a},l.content=function(){switch(arguments.length){case 0:return i(this.res);case 1:return this._8[arguments[0]]||"";case 2:var t=arguments[0],e=arguments[1];return t?(this._8[t]=e.call(this.m),""):e.call(this.m)}},l.defaultContent=function(t,e){return this._8[t]||e.call(this.m)},l.append=function(t,e){var i=this._8[t]||"";return this._8[t]=i+e.call(this.m),""},l.prepend=function(t,e){var i=this._8[t]||"";return this._8[t]=e.call(this.m)+i,""},t.exports={Ctx:h,escape:n,flatten:r,rejectEmpty:s,safe:i}}])});