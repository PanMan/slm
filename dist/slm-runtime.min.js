!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Ctx=e():t.Ctx=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t){function e(t){if(!t||t.htmlSafe)return t;var e=new String(t);return e.htmlSafe=!0,e}function i(t){if("string"!=typeof t){if(!t)return"";if(t.htmlSafe)return t.toString();t=t.toString()}return a.test(t)&&(-1!==t.indexOf("&")&&(t=t.replace(h,"&amp;")),-1!==t.indexOf("<")&&(t=t.replace(u,"&lt;")),-1!==t.indexOf(">")&&(t=t.replace(o,"&gt;")),-1!==t.indexOf('"')&&(t=t.replace(c,"&quot;"))),t}function n(t){for(var e=[],i=0,n=t.length;n>i;i++){var s=t[i];null!==s&&s.length&&e.push(s)}return e}function s(t){return t.reduce(function(t,e){return null===e?t:t.concat(e.constructor===Array?s(e):e.toString())},[])}function r(){this.reset(),this.template=this.basePath=null}var h=/&/g,a=/[&<>"]/,o=/>/g,u=/</g,c=/"/g;r.cache={};var l=r.prototype;l.rebind=function(){this._1=this.content.bind(this),this._2=this.extend.bind(this),this._3=this.partial.bind(this),this._4=this.defaultContent.bind(this),this._5=this.append.bind(this),this._6=this.prepend.bind(this),this._7=this.require.bind(this)},l.reset=function(){this._8={},this.res="",this.stack=[],this.m=null},l.pop=function(t){for(var e=this.stack.length,i=this.filename;t<e--;){var n=this._9(this.stack.pop()),s=this._a(n);this.filename=n,s.call(this.m,this)}return this.filename=i,this.res},l.partial=function(t,i,n){n&&(this.res=n.call(this.m,this)),t=this._9(t);var s=this._a(t),r=this.m,h=this.filename;this.filename=t;var a=e(s.call(this.m=i,this));return this.m=r,this.filename=h,a},l.extend=function(t){this.stack.push(t)},l.content=function(){switch(arguments.length){case 0:return e(this.res);case 1:return this._8[arguments[0]]||"";case 2:var t=arguments[0],i=arguments[1];return t?(this._8[t]=i.call(this.m),""):i.call(this.m)}},l.defaultContent=function(t,e){return console.log("defaultContent"),this._8[t]||e.call(this.m)},l.append=function(t,e){var i=this._8[t]||"";return this._8[t]=i+e.call(this.m),""},l.prepend=function(t,e){var i=this._8[t]||"";return this._8[t]=e.call(this.m)+i,""},t.exports={Ctx:r,escape:i,flatten:s,rejectEmpty:n,safe:e}}])});