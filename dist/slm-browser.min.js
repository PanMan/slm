!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Slm=e():t.Slm=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var n=i(1),s=new n(i(2));e.template=s,e.compile=function(t,e){return s.compile(t,e)},e.eval=function(t,e){return s.eval(t,e)}},function(module,exports,__webpack_require__){(function(module){function Template(t){this.rt=t,this._1=new Engine,this.Embeddeds=Embeddeds,this._2=new Embeddeds.Embedded,this.registerEmbedded("script",new Embeddeds.Javascript),this.registerEmbedded("javascript",new Embeddeds.Javascript({typeAttribute:!0})),this.registerEmbedded("css",new Embeddeds.CSS);for(var e,i=this._3(),n=0;e=i[n];n++)this._1.use(e)}var AttrMerge=__webpack_require__(6),AttrRemove=__webpack_require__(7),Brackets=__webpack_require__(8),CodeAttributes=__webpack_require__(9),ControlFlow=__webpack_require__(10),Controls=__webpack_require__(11),Embeddeds=__webpack_require__(12),Engine=__webpack_require__(4),Escape=__webpack_require__(13),FastHtml=__webpack_require__(17),Interpolate=__webpack_require__(14),MultiFlattener=__webpack_require__(15),Parser=__webpack_require__(5),StaticMerger=__webpack_require__(16),StringGenerator=__webpack_require__(18);Template.prototype._3=function(){return[new Parser,this._2,new Interpolate,new Brackets,new Controls,new AttrMerge,new CodeAttributes,new AttrRemove,new FastHtml,new Escape,new ControlFlow,new MultiFlattener,new StaticMerger,new StringGenerator]},Template.prototype.registerEmbedded=function(t,e){this._2.register(t,e)},Template.prototype.registerEmbeddedFunction=function(t,e){var i=new this.Embeddeds.InterpolateEngine(e);this.registerEmbedded(t,i)},Template.prototype.eval=function(t,e,i,n){return n=n||new this.rt.Ctx,this.compile(t,i,n)(e,n)},Template.prototype.compile=function(t,e,i){var i=i||new this.rt.Ctx,n=this.exec(t,e,i),s=function(t){var e=n.call(t,i);return i.reset(),e};return s},Template.prototype.exec=function(src,compileOptions,ctx){var rt=this.rt;return compileOptions=compileOptions||{},void 0===compileOptions.useCache||compileOptions.useCache||(ctx._4=ctx._5),ctx.template=this,ctx.basePath=compileOptions.basePath,ctx.filename=compileOptions.filename,ctx.require=compileOptions.require||module.require,ctx.rebind(),eval(this.src(src,compileOptions))[0]},Template.prototype.src=function(t,e){return["[function(c) {","c.m = this;","var sp = c.stack.length, require = c.require, content = c._6, extend = c._7, partial = c._8, defaultContent = c._9, append = c._a, prepend = c._b;",this._1.exec(t,e),"c.res=_b;return c.pop(sp);}]"].join("")},module.exports=Template}).call(exports,__webpack_require__(19)(module))},function(t,e,i){function n(){}var s=i(3),r=n.prototype=new s.Ctx;r._c=function(t){var e=n.cache[t];if(e)return e;var i=n.cache[t]=this._5(t);return i},r._5=function(t){var e=FS.readFileSync(t,"utf8");return this.template.exec(e,{},this)},r._4=r._c,r._d=function(t){var e=Path.dirname,i=Path.basename,n=Path.join;if("/"!==t[0]&&!this.filename)throw new Error('the "filename" option is required to use with "relative" paths');if("/"===t[0]&&!this.basePath)throw new Error('the "basePath" option is required to use with "absolute" paths');return t=n("/"===t[0]?this.basePath:e(this.filename),t),-1===i(t).indexOf(".")&&(t+=".slm"),t},t.exports=s,t.exports.Ctx=n},function(t){function e(t){if(!t||t.htmlSafe)return t;var e=new String(t);return e.htmlSafe=!0,e}function i(t){if("string"!=typeof t){if(!t)return"";if(t.htmlSafe)return t.toString();t=t.toString()}return o.test(t)&&(-1!==t.indexOf("&")&&(t=t.replace(h,"&amp;")),-1!==t.indexOf("<")&&(t=t.replace(l,"&lt;")),-1!==t.indexOf(">")&&(t=t.replace(_,"&gt;")),-1!==t.indexOf('"')&&(t=t.replace(c,"&quot;"))),t}function n(t){for(var e=[],i=0,n=t.length;n>i;i++){var s=t[i];null!==s&&s.length&&e.push(s)}return e}function s(t){return t.reduce(function(t,e){return null===e?t:t.concat(e.constructor===Array?s(e):e.toString())},[])}function r(){this.reset(),this.template=this.basePath=null}var h=/&/g,o=/[&<>"]/,_=/>/g,l=/</g,c=/"/g;r.cache={};var a=r.prototype;a.rebind=function(){this._6=this.content.bind(this),this._7=this.extend.bind(this),this._8=this.partial.bind(this),this._9=this.defaultContent.bind(this),this._a=this.append.bind(this),this._b=this.prepend.bind(this)},a.reset=function(){this._e={},this.res="",this.stack=[],this.m=null},a.pop=function(t){for(var e=this.stack.length,i=this.filename;t<e--;){var n=this._d(this.stack.pop()),s=this._4(n);this.filename=n,s.call(this.m,this)}return this.filename=i,this.res},a.partial=function(t,i,n){n&&(this.res=n.call(this.m,this)),t=this._d(t);var s=this._4(t),r=this.m,h=this.filename;this.filename=t;var o=e(s.call(this.m=i,this));return this.m=r,this.filename=h,o},a.extend=function(t){this.stack.push(t)},a.content=function(){switch(arguments.length){case 0:return e(this.res);case 1:return this._e[arguments[0]]||"";case 2:var t=arguments[0],i=arguments[1];return t?(this._e[t]=i.call(this.m),""):i.call(this.m)}},a.defaultContent=function(t,e){return this._e[t]||e.call(this.m)},a.append=function(t,e){var i=this._e[t]||"";return this._e[t]=i+e.call(this.m),""},a.prepend=function(t,e){var i=this._e[t]||"";return this._e[t]=e.call(this.m)+i,""},t.exports={Ctx:r,escape:i,flatten:s,rejectEmpty:n,safe:e}},function(t){function e(){this._f=[]}var i=e.prototype;i.use=function(t){this._f.push(t)},i.exec=function(t,e){for(var i=t,n=0,s=this._f.length;s>n;n++)i=this._f[n].exec(i,e);return i},t.exports=e},function(t){function e(){this._g=null,this._h=0,this._i=[],this._j=[0],this._k=this._l=null,this._m={".":"div","#":"div"},this._n={"#":["id"],".":["class"]},this._o={"(":")","[":"]"},this._p=/^(?:#|\.|\*(?=[^\s]+)|(\w+(?:\w+|:|-)*\w|\w+))/,this._q=/^([\.#]+)((?:\w+|-)*)/,this._r="^\\s*([^\\0\\\"'><\\/=\\s\\[\\]()\\.#]+)",this._s=new RegExp(this._r+"\\s*=(=?)\\s*(\"|')"),this._t=new RegExp(this._r+"\\s*=(=?)\\s*"),this._u=/^[\(\)\[\]]/,this._v=/^\s*([\(\)\[\]])/,this._10=/\r?\n/,this._11=/^\s*$/,this._12=/^\/!(\s?)/,this._13=/^\/\[\s*(.*?)\s*\]\s*$/,this._14=/^\s*:\s*/,this._15=/^doctype\b/i,this._16=/^((\.)(\s|$))|((\|)(\s?))/,this._17=/^=(=?)([.<>]*)/,this._18=/^\s*=(=?)([.<>]*)/,this._19=/^(\w+):\s*$/,this._1a=/^\s*\/\s*/,this._1b=/^( ?)(.*)$/,this._1c=/^[ \t]+/,this._1d=/^\s+/,this._1e=/[,\\]$/,this._1f=/\t/g}var i=e.prototype;i._1g=function(t){return t?t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"):""},i._1h=function(t,e){this._1i=e||[],this._j=[0],this._j._1j=this._1i._1j=function(){return this[this.length-1]},this._h=0,this._i=t,this._k=this._l=null},i._1k=function(t){this._1i._1j().push(t)},i._1l=function(t){this._k=this._k.slice(t)},i._1m=function(){return this._i.length?(this._l=this._i.shift(),this._h++,this._k=this._l):this._l=this._k=null,this._k},i._1n=function(t){var e=t.match(this._1c);return e?e[0].replace(this._1f," ").length:0},i.exec=function(t,e){this._g=e&&e.file?e.file:null;var i=["multi"];for(this._1h(t.split(this._10),[i]);null!==this._1m();)this._1o();return this._1h(),i},i._1o=function(){if(this._11.test(this._k))return void this._1k(["newline"]);var t=this._1n(this._k);this._k=this._k.replace(this._1d,"");var e=this._1i.length>this._j.length;if(t>this._j._1j())e||this._1p("Unexpected indentation"),this._j.push(t);else{for(e&&this._1i.pop();t<this._j._1j();)this._j.pop(),this._1i.pop();t!==this._j._1j()&&this._1p("Malformed indentation")}this._1q()},i._1q=function(){do{var t;if(t=this._12.exec(this._k)){this._1k(["html","comment",["slm","text",this._1r(this._k.slice(t[0].length),this._j._1j()+t[1].length+2)]]);break}if(t=this._13.exec(this._k)){var e=["multi"];this._1k(["html","condcomment",t[1],e]),this._1i.push(e);break}var i=this._k[0];if("/"===i){this._1s();break}if(t=this._16.exec(this._k)){var n,s;void 0===t[2]?(n=t[5],s=t[6]):(n=t[2],s=t[3]);var r="."===n;this._1k(["slm","text",this._1r(this._k.slice(t[0].length),this._j._1j()+s.length+1)]),r&&this._1k(["static"," "]);break}if("<"===i){var e=["multi"];this._1k(["multi",["slm","interpolate",this._k],e]),this._1i.push(e);break}if("-"===i){this._1l(1);var e=["multi"];this._1k(["slm","control",this._1t(),e]),this._1i.push(e);break}if(t=this._17.exec(this._k)){this._1l(t[0].length);var r=-1!==t[2].indexOf(".")||-1!==t[2].indexOf(">"),e=["multi"];-1!==t[2].indexOf("<")&&this._1k(["static"," "]),this._1k(["slm","output",0===t[1].length,this._1t(),e]),r&&this._1k(["static"," "]),this._1i.push(e);break}if(t=this._19.exec(this._k)){this._1k(["slm","embedded",t[1],this._1r()]);break}if(t=this._15.exec(this._k)){var h=this._k.slice(t[0].length).trim();this._1k(["html","doctype",h]);break}if(t=this._p.exec(this._k)){t[1]&&this._1l(t[0].length),this._1u(t[0]);break}this._1p("Unknown line indicator")}while(!1);this._1k(["newline"])},i._1u=function(t){var e;this._m[t]&&(this._n[t]||this._1l(0,t.length),t=this._m[t]);for(var i=["html","attrs"];e=this._q.exec(this._k);){var n=this._n[e[1]];n||this._1p("Illegal shortcut");for(var s,r=0;s=n[r];r++)i.push(["html","attr",s,["static",e[2]]]);this._1l(e[0].length)}var h,o;e=/^[<>.]+/.exec(this._k),e&&(this._1l(e[0].length),h=e[0].indexOf(".")>=0||e[0].indexOf(">")>=0,o=e[0].indexOf("<")>=0),this._1v(i),t=["html","tag",t,i],o&&this._1k(["static"," "]),this._1k(t),h&&this._1k(["static"," "]);do{if(e=this._14.exec(this._k)){this._1l(e[0].length),(e=this._p.exec(this._k))||this._1p("Expected tag"),e[1]&&this._1l(e[0].length);var _=["multi"];t.push(_);var r=this._1i.length;this._1i.push(_),this._1u(e[0]),this._1i.splice(r,1);break}if(e=this._18.exec(this._k)){this._1l(e[0].length);var l=e[2].indexOf(".")>=0||e[2].indexOf(">")>=0,c=e[2].indexOf("<")>=0,a=["multi"];if(!o&&c){var u=this._1i._1j();u.insert(u.length-2,0,["static"," "])}t.push(["slm","output","="!==e[1],this._1t(),a]),!h&&l&&this._1k(["static"," "]),this._1i.push(a);break}if(e=this._1a.exec(this._k)){this._1l(e[0].length),this._k.length&&this._1p("Unexpected text after closed tag");break}if(this._11.test(this._k)){var _=["multi"];t.push(_),this._1i.push(_);break}if(e=this._1b.exec(this._k)){t.push(["slm","text",this._1r(e[2],this._l.length-this._k.length+e[1].length,!0)]);break}}while(!1)},i._1v=function(t){var e,i;i=this._v.exec(this._k),i&&(e=this._o[i[1]],this._1l(i[0].length));var n,s;for(e&&(n=new RegExp(this._r+"(?=(\\s|"+this._1g(e)+"|$))"),s=new RegExp("^\\s*"+this._1g(e)));;)if(i=this._s.exec(this._k))this._1l(i[0].length),t.push(["html","attr",i[1],["escape",!i[2].length,["slm","interpolate",this._20(i[3])]]]);else if(i=this._t.exec(this._k)){this._1l(i[0].length);var r=i[1],h=!i[2].length,o=this._21(e);o.length||this._1p("Invalid empty attribute"),t.push(["html","attr",r,["slm","attrvalue",h,o]])}else{if(!e)break;if(i=n.exec(this._k))this._1l(i[0].length),t.push(["html","attr",i[1],["multi"]]);else{if(i=s.exec(this._k)){this._1l(i[0].length);break}this._k=this._k.replace(this._1d,""),this._k.length&&this._1p("Expected attribute"),this._1k(["newline"]),this._i.length||this._1p("Expected closing delimiter "+e),this._1m()}}},i._1r=function(t,e,i){var n=["multi"];t&&t.length?n.push(["slm","interpolate",t]):e=null;for(var s=0;this._i.length;)if(this._11.test(this._i[0]))this._1m(),n.push(["newline"]),e&&s++;else{var r=this._1n(this._i[0]);if(r<=this._j._1j())break;s&&(n.push(["slm","interpolate",new Array(s+1).join("\n")]),s=0),this._1m(),this._k=this._k.replace(this._1d,"");var h=e?r-e:0;0>h&&this._1p("Text line not indented deep enough.\nThe first text line defines the necessary text indentation."+(i?"\nAre you trying to nest a child tag in a tag containing text? Use | for the text block!":"")),n.push(["newline"]),n.push(["slm","interpolate",(e?"\n":"")+new Array(h+1).join(" ")+this._k]),e=e||r}return n},i._1s=function(){for(;this._i.length;){var t=this._11.test(this._i[0])?0:this._1n(this._i[0]);if(t<=this._j._1j())break;this._1m(),this._1k(["newline"])}},i._1t=function(){for(var t,e=this._k.trim();t=this._1e.exec(e);)this._22(),"\\"===t[0]&&(e=e.slice(0,e.length-2)),e+="\n"+this._k;return e},i._21=function(t){for(var e,i,n,s="",r=0,h=new RegExp("^[\\s"+this._1g(t)+"]");this._k.length&&(r||!h.test(this._k));)this._1e.test(this._k)?(s+=this._k+"\n",this._22()):(r>0?this._k[0]===e[0]?r++:this._k[0]===i[0]&&r--:(n=this._u.exec(this._k))&&(r=1,e=n[0],i=this._o[n[0]]),s+=this._k[0],this._1l(1));return r&&this._1p("Expected closing delimiter "+i),s},i._20=function(t){for(var e="",i=0;this._k.length&&(i||this._k[0]!==t);)if(/^\\$/.test(this._k))e+=" ",this._22();else{var n=this._k[0];i>0?"{"===n?i++:"}"===n&&i--:/^\$\{/.test(this._k)&&(e+=n,this._1l(1),i=1),e+=this._k[0],this._1l(1)}return i&&this._1p("Expected closing brace }"),this._k[0]!==t&&this._1p("Expected closing quote "+t),this._1l(1),e},i._1p=function(t){var e=null!==this._l&&null!==this._k?this._l.length-this._k.length:0;e+=1;var i=[t,"  "+(this._g||"(__TEMPLATE__)")+", Line "+this._h+", Column "+e,"  "+this._l,"  "+new Array(e).join(" ")+"^",""].join("\n");throw new Error(i)},i._22=function(){null===this._1m()&&this._1p("Unexpected end of file"),this._k=this._k.trim()},t.exports=e},function(t,e,i){function n(){this._23={id:"-","class":" "}}var s=i(20);n.prototype=new s,n.prototype.on_html_attrs=function(t){for(var e=[],i={},n=2,s=t.length;s>n;n++){var r=t[n],h=r[2].toString(),o=r[3];if(i[h]){if(!this._23[h])throw new Error("Multiple "+h+" attributes specified");i[h].push(o)}else i[h]=[o],e.push(h)}e.sort();for(var h,_=[],l=0;h=e[l];l++){var c,o=i[h];if((c=this._23[h])&&o.length>1){for(var a,u=["multi"],p=!1,f=0;(a=o[f])&&(p=this._24(a),p);f++);if(p){for(var a,f=0;a=o[f];f++)f&&u.push(["static",c]),u.push(a);_[l]=["html","attr",h,u]}else{var m=this._25();u.push(["code","var "+m+"=[];"]);for(var a,f=0;a=o[f];f++)u.push(["capture",m+"["+f+"]",m+"["+f+"]='';",a]);u.push(["dynamic","rt.rejectEmpty("+m+').join("'+c+'")']),_[l]=["html","attr",h,u]}}else _[l]=["html","attr",h,o[0]]}return["html","attrs"].concat(_)},t.exports=n},function(t,e,i){function n(){this._26=["id","class"]}var s=i(20);n.prototype=new s,n.prototype.on_html_attr=function(t){var e=t[2],i=t[3];if(-1===this._26.indexOf(e.toString()))return s.prototype.on_html_attr.call(this,t);if(this._27(i))return i;if(this._24(i))return["html","attr",e,i];var n=this._25();return["multi",["capture",n,"var "+n+"='';",this.compile(i)],["if",n+".length",["html","attr",e,["dynamic",n]]]]},t.exports=n},function(t,e,i){function n(){this._28=/^(case|default)\b/,this._29=/^(for|switch|catch|while|if|else\s+if)\s+(?!\()((\S|\s\S)*)\s*$/,this._2a=/^(if|switch|while|for|else|finally|catch)\b/,this._2b=/(function\s*\([^\)]*\)\s*)[^\{]/}var s=i(20),r=n.prototype=new s;r.on_slm_control=function(t){var e,i=t[2],n=t[3];return e=this._29.exec(i),e&&(i=i.replace(e[2],"("+e[2]+")")),i=this._2c(i,n),["slm","control",i,this.compile(n)]},r.on_slm_output=function(t){var e=t[3],i=t[4];return e=this._2c(e,i),["slm","output",t[2],e,this.compile(i)]},r._2c=function(t,e){var i,n,s="}";if(!this._28.test(t)&&!this._27(e)){if(!this._2a.test(t))if(i=this._2b.exec(t))n=i.index+i[1].length,s+=t.slice(n),t=t.slice(0,n);else if(-1!==(n=t.lastIndexOf(")"))){var r=t.indexOf("(");if(-1!==r){var h=t.slice(r+1,n);s+=t.slice(n),t=/^\s*$/.test(h)?t.slice(0,n)+"function()":t.slice(0,n)+",function()"}}t+="{",e.push(["code",s])}return t},t.exports=n},function(t,e,i){function n(){this._2d=null,this._23={"class":" "}}var s=i(20),r=n.prototype=new s;r.on_html_attrs=r._2e,r.on_html_attr=function(t){var e=t[2],i=t[3];if("slm"!==i[0]||"attrvalue"!==i[1]||this._23[e])return this._2d=e,s.prototype.on_html_attr.call(this,t);var n=i[2],r=i[3];switch(r){case"true":return["html","attr",e,["multi"]];case"false":case"null":case"undefined":return["multi"];default:var h=this._25();return["multi",["code","var "+h+"="+r],["switch",h,["true",["multi",["html","attr",e,["multi"]],["code","break"]]],["false",["multi"]],["undefined",["multi"]],["null",["code","break"]],["default",["html","attr",e,["escape",n,["dynamic",h]]]]]]}},r.on_slm_attrvalue=function(t){var e=t[2],i=t[3],n=this._23[this._2d];if(n){var s=this._25();return["multi",["code","var "+s+"="+i+";"],["if",s+" instanceof Array",["multi",["code",s+"=rt.rejectEmpty(rt.flatten("+s+"));"],["escape",e,["dynamic",s+'.join("'+n+'")']]],["escape",e,["dynamic",s]]]]}return["escape",e,["dynamic",i]]},t.exports=n},function(t,e,i){function n(){}var s=i(20),r=n.prototype=new s;r.on_switch=function(t){for(var e=t[1],i=["multi",["code","switch("+e+"){"]],n=2,s=t.length;s>n;n++){var r=t[n];i.push(["code","default"===r[0]?"default:":"case "+r[0]+":"]),i.push(this.compile(r[1]))}return i.push(["code","}"]),i},r.on_if=function(t){var e=t[1],i=t[2],n=t[3],s=["multi",["code","if("+e+"){"],this.compile(i)];return n&&(s.push(["code","}else{"]),s.push(this.compile(n))),s.push(["code","}"]),s},r.on_block=function(t){var e=t[1],i=t[2];return["multi",["code",e],this.compile(i)]},t.exports=n},function(t,e,i){function n(){this._2a=/^(if)\b|{\s*$/}var s=i(20),r=n.prototype=new s;r.on_slm_control=function(t){return["multi",["code",t[2]],this.compile(t[3])]},r.on_slm_output=function(t){var e=t[2],i=t[3],n=t[4];if(this._2a.test(i)){var s=this._25(),r=this._25();return n=this.compile(n),n.splice(n.length-1,0,["code","return rt.safe("+r+");"]),["multi",["block","var "+s+"="+i,["capture",r,"var "+r+"='';",n]],["escape","escape",["dynamic",s]]]}return["multi",["escape",e,["dynamic",i]],n]},r.on_slm_text=function(t){return this.compile(t[2])},t.exports=n},function(t,e,i){function n(){}function s(){}function r(){this._2g=new n,this._2h=new s}function h(t){this._2i=t&&t.typeAttribute}function o(){}function _(){this._2j={}}var l=i(20),c=n.prototype=new l;c.exec=function(t){return this._2f="",l.prototype.exec.call(this,t),this._2f},c.on_slm_interpolate=function(t){this._2f+=t[2]};var a=s.prototype=new l;a.exec=function(t){return this._2f=["multi"],l.prototype.exec.call(this,t),this._2f},a.on_newline=function(){this._2f.push(["newline"])};var u=r.prototype=new l;u.collectText=function(t){return this._2g.exec(t)},u.collectNewlines=function(t){return this._2h.exec(t)},h.prototype=new r,h.prototype.on_slm_embedded=function(t){var e=t[3];return this._2i?["html","tag","script",["html","attrs",["html","attr","type",["static","text/javascript"]]],e]:["html","tag","script",["html","attrs"],e]},o.prototype=new r,o.prototype.on_slm_embedded=function(t){var e=t[3];return["html","tag","style",["html","attrs",["html","attr","type",["static","text/css"]]],e]};var p=_.prototype=new l;p.register=function(t,e){this._2j[t]=e},p.on_slm_embedded=function(t){var e=t[2],i=this._2j[e];if(!i)throw new Error("Embedded engine "+e+" is not registered.");return this._2j[e].on_slm_embedded(t)};var f=function(t){this.renderer=t},m=f.prototype=new r;m.on_slm_embedded=function(t){var e=t[3],i=this.collectText(e);return["multi",["slm","interpolate",this.renderer(i)]]},t.exports={Embedded:_,Javascript:h,CSS:o,TextCollector:n,NewlineCollector:s,InterpolateEngine:f}},function(t,e,i){function n(){this._2k=!1,this._2l=!1,this._2m=r.escape}var s=i(21),r=i(3),h=n.prototype=new s;h._2n=function(t){return"rt.escape("+t.replace(/;+$/,"")+")"},h.on_escape=function(t){var e=this.escape;this._2l=t[1]&&!this._2k;try{return this.compile(t[2])}finally{this._2l=e}},h.on_static=function(t){return["static",this._2l?this._2m(t[1]):t[1]]},h.on_dynamic=function(t){return["dynamic",this._2l?this._2n(t[1]):t[1]]},t.exports=n},function(t,e,i){function n(){this._2o=/^\\\$\{/,this._2p=/^\$\{/,this._2q=/^([\$\\]?[^$\\]*(\$\\][^\\\$\{][^\$\\]*)*)/}var s=i(20),r=n.prototype=new s;r.on_slm_interpolate=function(t){var e,i,n=t[2],s=["multi"];do if(e=this._2o.exec(n))s.push(["static","${"]),n=n.slice(e[0].length);else if(e=this._2p.exec(n)){var r=this._2r(n.slice(e[0].length));n=r[0],i=r[1];var h="="!==i[0];s.push(["slm","output",h,h?i:i.slice(1),["multi"]])}else e=this._2q.exec(n),e&&(s.push(["static",e[0]]),n=n.slice(e[0].length));while(n.length);return s},r._2r=function(t){for(var e=1,i=0,n=t.length;n>i&&e;i++)"{"===t[i]?e++:"}"===t[i]&&e--;if(e)throw new Error("Text interpolation: Expected closing }");return[t.slice(i),t.substring(0,i-1)]},t.exports=n},function(t,e,i){function n(){}var s=i(21);n.prototype=new s,n.prototype.on_multi=function(t){var e=t.length;if(2===e)return this.compile(t[1]);for(var i=["multi"],n=1;e>n;n++){var s=t[n];if(s=this.compile(s),"multi"===s[0])for(var r=1,h=s.length;h>r;r++)i.push(s[r]);else i.push(s)}return i},t.exports=n},function(t,e,i){function n(){}var s=i(21);n.prototype=new s,n.prototype.on_multi=function(t){for(var e,i=["multi"],n=1,s=t.length;s>n;n++){var r=t[n];"static"===r[0]?e?e[1]+=r[1]:(e=["static",r[1]],i.push(e)):(i.push(this.compile(r)),"newline"!==r[0]&&(e=null))}return 2===i.length?i[1]:i},t.exports=n},function(t,e,i){function n(){this._2s="base basefont bgsound link meta area br embed img keygen wbr input menuitem param source track hr col frame".split(/\s/),this._2t="xhtml",this._2u='"',this._2v=["\n//<![CDATA[\n","\n//]]>\n"]}var s=i(22),r=n.prototype=new s;r.on_html_doctype=function(t){var e=t[2],i="<!DOCTYPE html>",n={1.1:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',5:i,html:i,basic:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">',frameset:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">',strict:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',svg:'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',transitional:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'},s={5:i,html:i,frameset:'<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd">',strict:'<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">',transitional:'<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">'};e=e.toString().toLowerCase();var r,h;if(r=/^xml(\s+(.+))?$/.exec(e)){if("xhtml"!==this._2t)throw new Error("Invalid xml directive in html mode");var o=this._2u;h="<?xml version="+o+"1.0"+o+" encoding="+o+(r[2]||"utf-8")+o+" ?>"}else if("xhtml"!==this._2t){if(h=s[e],!h)throw new Error("Invalid html doctype "+e)}else if(h=n[e],!h)throw new Error("Invalid xhtml doctype "+e);return["static",h]},r.on_html_comment=function(t){return["multi",["static","<!--"],this.compile(t[2]),["static","-->"]]},r.on_html_condcomment=function(t){return this.on_html_comment(["html","comment",["multi",["static","["+t[2]+"]>"],t[3],["static","<![endif]"]]])},r.on_html_tag=function(t){var e=t[2].toString(),i=t[3],n=t[4],s=!n||this._27(n)&&-1!==this._2s.indexOf(e),r=["multi",["static","<"+e],this.compile(i),["static",(s&&"xhtml"===this._2t?" /":"")+">"]];return n&&r.push(this.compile(n)),s||r.push(["static","</"+e+">"]),r},r.on_html_attrs=r._2e,r.on_html_attr=function(t){var e=t[2],i=t[3];return"xhtml"!==this._2t&&this._27(i)?["static"," "+e]:["multi",["static"," "+e+"="+this._2u],this.compile(i),["static",this._2u]]},r.on_html_js=function(t){var e=t[2];return["multi",["static",this._2v[0]],this.compile(e),["static",this._2v[1]]]},t.exports=n},function(t,e,i){function n(t,e){this._30=t||"_b",this._31=e}var s=i(23),r=n.prototype=new s;r.preamble=function(){return this._31?this._31:"var "+this._30+"='';"},r.on_capture=function(t){var e=new n(t[1],t[2]);return e._32=this._32,e.exec(t[3])},t.exports=n},function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,i){function n(){}var s=i(22),r=n.prototype=new s;r.on_slm_text=function(t){return t[2]=this.compile(t[2]),t},r.on_slm_embedded=function(t){return t[3]=this.compile(t[3]),t},r.on_slm_control=function(t){return t[3]=this.compile(t[3]),t},r.on_slm_output=function(t){return t[4]=this.compile(t[4]),t},t.exports=n},function(t,e,i){function n(){}var s=i(24),r=n.prototype=new s,h=0;r._27=function(t){switch(t[0]){case"multi":for(var e=1,i=t.length;i>e;e++)if(!this._27(t[e]))return!1;return!0;case"newline":return!0;default:return!1}},r._25=function(){return h++,"$lm"+h.toString(16)},r.on_multi=function(t){for(var e=t.length,i=1;e>i;i++)t[i]=this.compile(t[i]);return t},r.on_capture=function(t){return["capture",t[1],t[2],this.compile(t[3])]},r._33=function(t){for(var e=2,i=t.length;i>e;e++)t[e]=this.compile(t[e]);return t},r.on_if=r._33,r._2e=function(t){for(var e=["multi"],i=2,n=t.length;n>i;i++)e.push(this.compile(t[i]));return e},r.on_switch=function(t){for(var e=2,i=t.length;i>e;e++){var n=t[e];t[e]=[n[0],this.compile(n[1])]}return t},r.on_block=function(t){return["block",t[1],this.compile(t[2])]},r.on_escape=function(t){return["escape",t[1],this.compile(t[2])]},t.exports=n},function(t,e,i){function n(){}var s=i(21),r=n.prototype=new s;r.on_html_attrs=r._33,r.on_html_attr=function(t){return["html","attr",t[2],this.compile(t[3])]},r.on_html_comment=function(t){return["html","comment",this.compile(t[2])]},r.on_html_condcomment=function(t){return["html","condcomment",t[2],this.compile(t[3])]},r.on_html_tag=function(t){var e=t[4],i=["html","tag",t[2],this.compile(t[3])];return e&&i.push(this.compile(e)),i},r._24=function(t){switch(t[0]){case"multi":for(var e=1,i=t.length;i>e;e++)if(this._24(t[e]))return!0;return!1;case"escape":return this._24(t[t.length-1]);case"static":return t[1].length;default:return!1}},t.exports=n},function(t,e,i){function n(){this._30="_b"}var s=i(24),r=n.prototype=new s;r.exec=function(t){return[this.preamble(),this.compile(t)].join("\n")},r.on=function(t){throw new Error("Generator supports only core expressions - found "+JSON.stringify(t))},r.on_multi=function(t){for(var e=1,i=t.length;i>e;e++)t[e]=this.compile(t[e]);return t.shift(),t.join("\n")},r.on_newline=function(){return"\n"},r.on_static=function(t){return this.concat(JSON.stringify(t[1]))},r.on_dynamic=function(t){return this.concat(t[1])},r.on_code=function(t){return t[1]},r.concat=function(t){return this._30+"+="+t+";"},t.exports=n},function(t){function e(){this._34=null,this._35={}}function i(){this._36=/_/,this._37=/^on(_\w+)*$/}e.prototype.compile=function(t,e){this._34&&(e="this."+this._34+"(exps)");var i="switch(exps["+t+"]) {",n=!0;for(var s in this._35)n=!1,i+="\ncase '"+s+"':\n",i+=this._35[s].compile(t+1,e)+";";return n?"return "+e:i+="\ndefault:\nreturn "+(e||"exps")+";}"};var n=i.prototype;n.exec=function(t){return this.compile(t)},n.compile=function(t){return this._32(t)},n._32=function(t){return this._38(t)},n._39=function(){var t=[];for(var e in this)this._37.test(e)&&t.push(e);return t},n._38=function(t){for(var i,n=new e,s=this._39(),r=0;i=s[r];r++){for(var h,o=i.split(this._36),_=n,l=1;h=o[l];l++){var c=_._35[h];_=_._35[h]=c||new e}_._34=i}return this._32=new Function("exps",n.compile(0)),this._32(t)},t.exports=i}])});